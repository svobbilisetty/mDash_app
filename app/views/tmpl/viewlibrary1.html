<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.1/socket.io.js" integrity="sha256-fiM0lX3OYzf0FfLBeLqFuCokh+rf1VhI/eanPbzldUM=" crossorigin="anonymous"></script>

<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

<!-- <script>
function fa1(){
	var para = document.createElement("style");
var node = document.createTextNode(".color1{color:green !important;}ul.checkout-bar li.visited::before{background:green !important}.checkout-bar li.one:after{background-color:green !important;background-image: -webkit-linear-gradient(-45deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);} ");
para.appendChild(node);
var element = document.getElementById("i");
element.appendChild(para);
}
</script>

<script>
function fa2(){
	var para = document.createElement("style");
var node = document.createTextNode(".color2{color:green !important;}ul.checkout-bar li:nth-child(3)::before{background:green !important}.checkout-bar li.two:after{background-color:green !important;background-image: -webkit-linear-gradient(-45deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);} ");
para.appendChild(node);
var element = document.getElementById("i");
element.appendChild(para);
}
</script>

<script>
function fa4(){
	var para = document.createElement("style");
var node = document.createTextNode(".color5{color:green !important;}ul.checkout-bar li:nth-child(6)::before {    background: green !important;}.checkout-bar li.five:after{background-color:green !important;background-image: -webkit-linear-gradient(-45deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);} .color4{color:green !important;}ul.checkout-bar li:nth-child(5)::before{background:green !important}.checkout-bar li.four:after{background-color:green !important;background-image: -webkit-linear-gradient(-45deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);} ");
para.appendChild(node);
var element = document.getElementById("i");
element.appendChild(para);
}
</script>


<script>

function fa6(){
	var para = document.createElement("style");
var node = document.createTextNode(".color5{color:green !important;}.checkout-bar li.six:after{background-color:green !important;background-image: -webkit-linear-gradient(-45deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);} ");
para.appendChild(node);
var element = document.getElementById("i");
element.appendChild(para);
}

</script> -->



<style>
html, body {
    font-family: "Lato",sans-serif !important;
  
}
.w3-btn{
 padding: 10px 15px;
}

.w3-button {
 font-size: 16px;
 line-height: 1.6;
 padding: 8px 15px;
}
.w3-teal, .w3-hover-teal:hover {
 color: #fff !important;
background-color: #0d416b !important;
 margin-left:-17px;

}
.w3-button:hover {
    background-color: #0d416b !important;
}
</style>
<div class="page page-tables-bootstrap">
    <div class="pageheader">
        <h2>{{libraryName}} <span></span></h2>
        <div class="page-bar">
            <ul class="page-breadcrumb">
                <li>
                    <a href="index.html"><i class="fa fa-home"></i> mDash</a>
                </li>
				<li>
                    <a ng-model="Libraries" id="Libraries" ng-click="gotoLibList()">Libraries</a>
                </li>
                <li>
                    <a ng-model="libraryName" id="libraryName" href="">{{libraryName}}</a>
                </li>
            </ul>
            <!-- ui-sref="app.editinterface" -->
            <div class="page-toolbar ng-scope">
                <a ng-click="editLibrary(libraryName)" class="btn btn-lightred no-border ng-isolate-scope" > <i class="fa fa-edit"></i>&nbsp;&nbsp;<span class="ng-binding">Edit</span> </a>
            </div>
        </div>
    </div>
	
<!--  Pop-up for edit Library - START
					  <div id="id01" class="w3-modal" ng-show="buildmodal">
	
    <div class="w3-modal-content">
      <div class="w3-container" >
	  
	  <header class="w3-container w3-teal">
       <span onclick="document.getElementById('id01').style.display='none'"

       class="w3-button w3-display-topright" >&times;</span>

        <h4><b>Add New Library</b></h4>
     </header>

        <span ng-click="close()" class="w3-button w3-display-topright" style="color:#ffffff !important;">&times;</span><br>
	
			<div class="form-group row">
				<div class="col-sm-6">
				<div id="ConfigServiceName">
						 <br><label for="ConfigServiceName"><b>Library Name</b></label><br>
						<input class="form-group col-sm-12" id="ConfigServiceName" type="text" ng-model="LibraryName"></input>
					</div>
					<div id="SenderPort_Num ">
					 <br>
						<label for="SenderPort_Num"><b>Library URL</b></label>
						<br><input class="form-group col-sm-12" id="SenderPort_Num" type="text" ng-model="LibraryURL"></input>
					</div>
					<div id="SenderPort_Num ">
					 <br>
						<label for="SenderPort_Num"><b>SVN Password</b></label>
						<br><input class="form-group col-sm-12" id="svnpassword" type="password" ng-model="svnpassword"></input>
					</div>
				
				</div>
				
				</div>
				<div class="form-group row col-sm-12">
							<button type="button" class="btn btn-darkgray mb-10 col-sm-6"  ng-click="EditLib()" style="background-color:#0d416b";><b>Edit Library</b></button>
							</div>
							
		
							
			</div>
			
      </div>
    </div>
Pop-up for edit Library - END  -->
	
	
<div class="row ">
<div class="col-sm-6">
<section class="tile">
<div class="tile-header dvd dvd-btm">
                        <h1 class="custom-font">Status and Operations</h1>

                    </div>
					<div class="tile-body  p-0" class="table-responsive" style="height:312px;">
					<div class="row">

                                <div class="col-sm-12">
                                    <br>
                                    <div class="col-sm-4 ">
                                        <div class="filled bg-slategray">
                                            <mark class="bg-white">v17.4</mark>
                                            <h1 class="">Dev</h1>
                                        </div><br><br>
										<button style="font-weight:900;background-color:#2368a0;color:#ffffff;" ng-click="builddetails()" class="btn  mb-10 col-sm-12" activate-button="loading" id="build"><i id="btns" style="display:none;position:relative;" class="fa fa-refresh fa-spin"></i><span id="load">Build </span></button>
<div id="id02" class="w3-modal" ng-show="buildmodal1">
	
    <div class="w3-modal-content" >
      <div class="w3-container" >
	  
	  <header class="w3-container w3-teal">
       <span onclick="document.getElementById('id02').style.display='none'"

       class="w3-button w3-display-topright" >&times;</span>

       <h4 style="font-weight:900;color:#ffffff;">Build Now</h4>
     </header>

        <span ng-click="close2()" class="w3-button w3-display-topright" style="color:#ffffff !important;">&times;</span><br>
	
			<div class="form-group row">
				<div class="col-sm-6">
				 <div id="build_envDiv" >
					<!-- <label for="Build Environment">Build Environment</label> -->
			   <input class="form-group col-sm-12" id="build_env" type="text" ng-model="build_env" style="display: none;"></input>
				</div> 
				<div id="svnrepoDiv" >
					<label for="IIBNode">IIB Node</label>
					<!-- <input class="form-group col-sm-12" id="IIBNode" type="text" ng-model="IIBNode"></input> -->
					<br><select style="padding:3px;" class="form-group col-sm-12" ng-model="IIBNode" ng-options="x for x in IIBNodes"></select>
				</div><br>
				
				<!-- <div id="messageflownameDiv" >
					<label for="BrokerName ">Broker </label>
					<input class="form-group col-sm-12" id="BrokerName " type="text" ng-model="BrokerName "></input>
				</div>
				<!-- <div id="password " >
                    <label for="password  ">SVN Password  </label>
                    <input class="form-group col-sm-12" id="password  " type="password" ng-model="svnpassword"></input>
                </div> 
				</div>
				<div class="col-sm-6"> -->
				
				<div id="Config_ServiceDiv" >
					<label for="iibhost">IIB Host</label>
					<!-- <input class="form-group col-sm-12" id="iibhost" type="text" ng-model="iibhost"></input> -->
					<br><select style="padding:3px;" class="form-group col-sm-12" ng-model="iibhost" ng-options="x for x in iibhosts" readonly></select>
				</div><br>

				<div id="projectnameDiv" >
					<label for="executionGroup">Execution Group</label>
					<!-- <input class="form-group col-sm-12" id="executionGroup" type="text" ng-model="executionGroup"></input> -->
					<br><select style="padding:3px;" class="form-group col-sm-12" ng-model="executionGroup" ng-options="x for x in executionGroups"></select>
				</div><br>
				
				</div>
				</div>
				<div class="form-group row col-sm-12">
				
			<button type="button"  style="font-weight:900;background-color:#0d416b;color:#ffffff" class="btn mb-10 col-sm-3" ng-click="passworddetails()">Build Now</button>
			</div>
							
		
							
			</div>
			
      </div>
    </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="filled bg-slategray">
                                            <mark class="bg-white">v19.7</mark>
                                            <h1 class="">Test</h1>
                                        </div><br><br>
										<button style="font-weight:900;background-color:#00aae7;color:#ffffff;" ng-click="deploydetails()" class="btn  mb-10 col-sm-12" activate-button="loading" id="deploy"><i id="btns1" style="display:none;position:relative;" class="fa fa-refresh fa-spin"></i><span id="load1">Deploy</span></button>
	<div id="id03" class="w3-modal" ng-show="buildmodal2">
	
    <div class="w3-modal-content">
      <div class="w3-container" >
	  
	  <header class="w3-container w3-teal">
       <span onclick="document.getElementById('id03').style.display='none'"

       class="w3-button w3-display-topright" >&times;</span>

       <h4 style="font-weight:900;color:#ffffff;">Deploy</h4>
     </header>

        <span ng-click="close3()" class="w3-button w3-display-topright" style="color:#ffffff !important;">&times;</span><br>
	
			<div class="form-group row">
				<div class="col-sm-6">
				  <div id="env" >
					<label for="env">Environment</label>
					<!-- <input class="form-group col-sm-12" id="iibhost" type="text" ng-model="iibhost"></input> -->
					<br><select class="form-group col-sm-12" style="padding:3px;" ng-model="env" ng-options="x for x in envs" ng-change="fieldspop()"></select>
				</div> 
				<!--  <div id="build_envDiv" >
					<label for="Build Environment">Build Environment</label> 
			   <input class="form-group col-sm-12" id="build_env_d" type="text" ng-model="build_env_d" style="display: none;"></input>
				</div>  -->
				<div id="svnrepoDiv" >
					<label for="IIBNode">IIB Node</label>
					<!-- <input class="form-group col-sm-12" id="IIBNode" type="text" ng-model="IIBNode"></input> -->
					<br><select style="padding:3px;" class="form-group col-sm-12" ng-model="IIBNode_d" ng-options="x for x in IIBNodes_d"></select>
				</div><br>
				
				<!-- <div id="messageflownameDiv" >
					<label for="BrokerName ">Broker </label>
					<input class="form-group col-sm-12" id="BrokerName_d " type="text" ng-model="BrokerName_d "></input>
				</div> -->
				<!-- <div id="password " >
                    <label for="password  ">SVN Password  </label>
                    <input class="form-group col-sm-12" id="password_d  " type="password" ng-model="svnpassword_d"></input>
                </div> -->
				</div>
				<div class="col-sm-6">
				
				<div id="Config_ServiceDiv" >
					<label for="iibhost">IIB Host</label>
					<!-- <input class="form-group col-sm-12" id="iibhost" type="text" ng-model="iibhost"></input> -->
					<br><select style="padding:3px;" class="form-group col-sm-12" ng-model="iibhost_d" ng-options="x for x in iibhosts_d" readonly></select>
				</div><br>

				<div id="projectnameDiv" >
					<label for="executionGroup">Execution Group</label>
					<!-- <input class="form-group col-sm-12" id="executionGroup" type="text" ng-model="executionGroup"></input> -->
					<br><select style="padding:3px;" class="form-group col-sm-12" ng-model="executionGroup_d" ng-options="x for x in executionGroups_d"></select>
				</div><br>
				
				</div>
				</div>
				<div class="form-group row col-sm-12">
				
			<button type="button"  style="font-weight:900;background-color:#0d416b;color:#ffffff" id="promote" class="btn mb-10 col-sm-3" ng-click="passworddetails1()">Deploy</button>
			</div>
							
		
							
			</div>
			
      </div>
    </div>
                                    </div>

                                    <div class="col-sm-4">
                                        <div class="filled bg-slategray">
                                            <mark class="bg-white">v9.2</mark>
                                            <h1 class="">Prod</h1>
                                        </div><br><br>
										<button style="font-weight:900;background-color:#0d416b;color:#ffffff;" ng-click="rollbackdetails()" class="btn  mb-10 col-sm-12" activate-button="loading" id="rollback"><i id="btns2" style="display:none;position:relative;" class="fa fa-refresh fa-spin"></i><span id="load2">Roll Back</span></button>
	<div id="id04" class="w3-modal" ng-show="buildmodal3">
	
    <div class="w3-modal-content">
      <div class="w3-container" >
	  
	  <header class="w3-container w3-teal">
       <span onclick="document.getElementById('id04').style.display='none'"

       class="w3-button w3-display-topright" >&times;</span>

       <h4 style="font-weight:900;color:#ffffff;">Roll Back</h4>
     </header>

        <span ng-click="close4()" class="w3-button w3-display-topright" style="color:#ffffff !important;">&times;</span><br>
	
			<div class="form-group row">
				<div class="col-sm-6">
				 <div id="build_envDiv" >
					<!-- <label for="Build Environment">Build Environment</label> -->
			   <input class="form-group col-sm-12" id="build_env" type="text" ng-model="build_env" style="display: none;"></input>
				</div> 
				<div id="svnrepoDiv" >
					<label for="IIBNode">IIB Node</label>
					<!-- <input class="form-group col-sm-12" id="IIBNode" type="text" ng-model="IIBNode"></input> -->
					<br><select style="padding:3px;" class="form-group col-sm-12" ng-model="IIBNode" ng-options="x for x in IIBNodes"></select>
				</div><br>
				
				<div id="messageflownameDiv" >
					<label for="BrokerName ">Broker </label>
					<input class="form-group col-sm-12" id="BrokerName " type="text" ng-model="BrokerName "></input>
				</div>
				<div id="password " >
                    <label for="password  ">SVN Password  </label>
                    <input class="form-group col-sm-12" id="password  " type="password" ng-model="svnpassword"></input>
                </div>
				</div>
				<div class="col-sm-6">
				
				<div id="Config_ServiceDiv" >
					<label for="iibhost">IIB Host</label>
					<!-- <input class="form-group col-sm-12" id="iibhost" type="text" ng-model="iibhost"></input> -->
					<br><select style="padding:3px;" class="form-group col-sm-12" ng-model="iibhost" ng-options="x for x in iibhosts" readonly></select>
				</div><br>

				<div id="projectnameDiv" >
					<label for="executionGroup">Execution Group</label>
					<!-- <input class="form-group col-sm-12" id="executionGroup" type="text" ng-model="executionGroup"></input> -->
					<br><select style="padding:3px;" class="form-group col-sm-12" ng-model="executionGroup" ng-options="x for x in executionGroups"></select>
				</div><br>
				
				</div>
				</div>
				<div class="form-group row col-sm-12">
				
			<button type="button"  style="font-weight:900;background-color:#0d416b;color:#ffffff" class="btn mb-10 col-sm-3" ng-click="rollback()">Roll Back</button>
			</div>
							
		
							
			</div>
			
      </div>
    </div>
	
		<div id="id05" class="w3-modal" ng-show="passswordmodal">
	
    <div class="w3-modal-content">
      <div class="w3-container" >
	  
	  <header class="w3-container w3-teal">
       <span onclick="document.getElementById('id05').style.display='none'"

       class="w3-button w3-display-topright" >&times;</span>

       <h4 style="font-weight:900;color:#ffffff;">Please Authenticate yourself!!!</h4>
     </header>

        <span ng-click="close5()" class="w3-button w3-display-topright" style="color:#ffffff !important;">&times;</span><br>
	
			<div class="form-group row">
				<div class="col-sm-6">
				
				<div id="password " >
                    <label for="password  ">SVN Password  </label>
                    <input class="form-group col-sm-12" id="password  " type="password" ng-model="svnpassword"></input>
                </div>
				</div>
				
				</div>
				<div class="form-group row col-sm-12">
				
			<button type="button"  style="font-weight:900;background-color:#0d416b;color:#ffffff" class="btn mb-10 col-sm-3" ng-click="buildpassword()">Build Now</button>
			</div>
							
		
							
			</div>
			
      </div>
    </div>
	
		<div id="id06" class="w3-modal" ng-show="passswordmodal1">
	
    <div class="w3-modal-content">
      <div class="w3-container" >
	  
	  <header class="w3-container w3-teal">
       <span onclick="document.getElementById('id06').style.display='none'"

       class="w3-button w3-display-topright" >&times;</span>

       <h4 style="font-weight:900;color:#ffffff;">Please Authenticate yourself!!!</h4>
     </header>

        <span ng-click="close6()" class="w3-button w3-display-topright" style="color:#ffffff !important;">&times;</span><br>
	
			<div class="form-group row">
				<div class="col-sm-6">
				
				<div id="password " >
                    <label for="password  ">SVN Password  </label>
                    <input class="form-group col-sm-12" id="password  " type="password" ng-model="svnpassword"></input>
                </div>
				</div>
				
				</div>
				<div class="form-group row col-sm-12">
				
			<button type="button"  style="font-weight:900;background-color:#0d416b;color:#ffffff" class="btn mb-10 col-sm-3" ng-click="buildpassword1()">Deploy Now</button>
			</div>
							
		
							
			</div>
			
      </div>
    </div>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
                                    </div>
                                </div>
                            </div>
							<br><br>
					</div>
</section>
</div>
<div class="col-sm-6">
 <section class="tile">

                        <style>
                            @import url('https://fonts.googleapis.com/css?family=Inconsolata');
                        </style>
                        <div id="console3" class="demo" style="height:355px;overflow-y:scroll;background-color:#232527;color:#ffffff;padding: 10px 10px;font-family:Inconsolata;">
                            <h5 style="font-weight:900">Library Job Execution Log</h5>
                        </div>
	</section>
</div>
</div>
   <div >
                    <section class="tile" fullscreen="isFullscreen02" ng-show="recentlibbuildsId">
                        <div class="row">
                            <div class="col-md-12">
                                <section class="tile" fullscreen="isFullscreen02" >
                                    <div class="tile-body p-0">
                                        <div class="tile-header dvd dvd-btm"  >
                                            <h1 class="custom-font">Library Details</h1>
                                        </div>
                                    </div>
                                </section>
                            </div>
                        </div>
                        <table class="table table-no-border m-0" style="overflow-y:scroll">
                            <tbody>
                                <tr>
                                    <th>Library Name</th>
									<th> Job Type </th>
                                    <th>Created Date</th>
                                    <th>Last Updated</th>
                                    <th>Deploy Status</th>
                                    <th>Environment</th>
                                    <th>By</th>
                                </tr>
								<tr ng-repeat="x in librarylog |  orderBy: '-updatedDate' && orderBy: '-updatedTime'">
									      <td>{{x.url_key}}</td>
										   <td>{{x.Jobtype}}</td>
										   <td> {{x.createdDate || ''}} - {{x.createdtime || ''}}</td>
									    <td> {{x.updatedDate || ''}} - {{x.updatedTime || ''}}</td>
										 <td><!-- {{x.result==null ? "IN PROGRESS": x.result}} -->
										<span style="position:relative;left:40px;" class="{{x.flowstatus == 'SUCCESS' ? 'fa fa-square text-success' : ((x.flowstatus == 'FAILURE' ? 'fa fa-square text-danger' : 'fa fa-square text-warning'))}}"></span></td>
                                       <td>{{x.Environment  | uppercase}}</td>
									   <td>{{x.By}}</td>
                                      <!--  <td><center><i class="fa fa-square text-danger"></i>{{x.flowstatus || ""}}</center></td> -->
                                    
                                    </tr>
                            </tbody>
                        </table>
                    </section>

    </div>  
</div>

 

